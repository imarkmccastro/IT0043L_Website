<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Reports - CampusSecure</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="../../designs (css)/user-interface styles/my-reports.css">

</head>
<body>
     <div class="wrapper">
        
        <!-- Left Sidebar - Visible on Desktop -->
        <div class="left-sidebar d-none d-lg-flex flex-column">
            <div>
                <h3 class="sidebar-header">CampusSecure</h3>
                <ul class="nav flex-column sidebar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="user-dashboard.html">
                            <i class="fas fa-tachometer-alt fa-fw"></i> Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="report-incident-page.html">
                            <i class="fas fa-file-signature fa-fw"></i> Report Incident
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#">
                            <i class="fas fa-file-alt fa-fw"></i> My Reports
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <i class="fas fa-question-circle fa-fw"></i> FAQs
                        </a>
                    </li>
                </ul>
            </div>
            <ul class="nav flex-column sidebar-nav mt-auto">
                 <li class="nav-item">
                    <a class="nav-link" href="login.html">
                        <i class="fas fa-sign-out-alt fa-fw"></i> Logout
                    </a>
                </li>
            </ul>
        </div>
         <!-- Main Content Area -->
        <div class="main-content">
            <header class="top-bar">
                <div class="d-flex align-items-center">
                    <!-- Hamburger Menu for Mobile -->
                    <button class="btn d-lg-none me-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#mobile-sidebar" aria-controls="mobile-sidebar">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h4 class="mb-0">My Incident Reports</h4>
                </div>
                <div class="user-profile dropdown ms-2">
                    <a href="#" class="d-flex align-items-center text-dark text-decoration-none dropdown-toggle" id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false">
                        <img src="/img/jovs.png" alt="User" class="me-2">
                        <strong class="d-none d-sm-block">Jovs Francis</strong>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end text-small shadow" aria-labelledby="dropdownUser1">
                        <li><a class="dropdown-item" href="#">Profile</a></li>
                        <li><a class="dropdown-item" href="#">Settings</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="login.html">Sign out</a></li>
                    </ul>
                </div>
            </header>

            <main>
                <div class="row">
                    <div class="col-12">
                        <div class="data-card">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Case ID</th>
                                            <th>Subject</th>
                                            <th>Date Reported</th>
                                            <th>Status</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="report-row" data-description="I received an email from 'University Admin' saying I won a scholarship and to click a link to claim it. The link looks weird and I haven't applied for any scholarships. The URL is http://bit.ly/campus-prize. I think it's a phishing attempt." data-admin-notes="Link confirmed as malicious. Blocked at the firewall. Campus-wide alert sent.">
                                            <td>#83450</td>
                                            <td>Suspicious Link in Email</td>
                                            <td>June 25, 2025</td>
                                            <td><span class="badge bg-danger">High Priority</span></td>
                                            <td><button class="btn btn-sm btn-outline-primary view-btn">View</button></td>
                                        </tr>
                                        <tr class="report-row" data-description="The Wi-Fi in the main library is extremely slow and keeps disconnecting. It's impossible to study." data-admin-notes="Technician dispatched. Access Point #34 was faulty and has been replaced.">
                                            <td>#83440</td>
                                            <td>Slow Wi-Fi in Library</td>
                                            <td>June 23, 2025</td>
                                            <td><span class="badge bg-success">Resolved</span></td>
                                            <td><button class="btn btn-sm btn-outline-primary view-btn">View</button></td>
                                        </tr>
                                        <tr class="report-row" data-description="Got an email from 'IT Support' asking me to verify my password by clicking a link. The sender's email address looks fake." data-admin-notes="Confirmed phishing attempt. The sender's address has been blacklisted.">
                                            <td>#83435</td>
                                            <td>Phishing Email from "IT Support"</td>
                                            <td>June 22, 2025</td>
                                            <td><span class="badge bg-success">Resolved</span></td>
                                            <td><button class="btn btn-sm btn-outline-primary view-btn">View</button></td>
                                        </tr>
                                         <tr class="report-row" data-description="I got a notification that my account was accessed from a different country. I did not authorize this." data-admin-notes="No breach detected. User was likely using a VPN. Reached out to user to confirm.">
                                            <td>#83421</td>
                                            <td>Unfamiliar Login Alert</td>
                                            <td>June 20, 2025</td>
                                            <td><span class="badge bg-warning text-dark">Pending</span></td>
                                            <td><button class="btn btn-sm btn-outline-primary view-btn">View</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
        <div class="right-sidebar d-none d-xl-block">
            <h5>Campus-Wide Alerts</h5>
            <div class="alert-item">
                <p>Scheduled Maintenance</p>
                <small>The student portal will be down on July 5th from 2-3 AM for scheduled maintenance.</small>
            </div>
             <div class="alert-item" style="border-left-color: #ffc107;">
                <p>Phishing Awareness</p>
                <small>Be aware of emails asking for your password. We will never ask for your credentials.</small>
            </div>
        </div>
    </div>
    <!-- Offcanvas Sidebar for Mobile -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="mobile-sidebar" aria-labelledby="mobile-sidebar-label">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="mobile-sidebar-label">CampusSecure</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body d-flex flex-column">
            <ul class="nav flex-column sidebar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="user-dashboard.html">
                        <i class="fas fa-tachometer-alt fa-fw"></i> Dashboard
                    </a>
                </li>
                 <li class="nav-item">
                    <a class="nav-link" href="report-incident-page.html">
                        <i class="fas fa-file-signature fa-fw"></i> Report Incident
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="#">
                        <i class="fas fa-file-alt fa-fw"></i> My Reports
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">
                        <i class="fas fa-question-circle fa-fw"></i> FAQs
                    </a>
                </li>
            </ul>
            <ul class="nav flex-column sidebar-nav mt-auto">
                 <li class="nav-item">
                    <a class="nav-link" href="login.html">
                        <i class="fas fa-sign-out-alt fa-fw"></i> Logout
                    </a>
                </li>
            </ul>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const viewButtons = document.querySelectorAll('.view-btn');
            viewButtons.forEach(button => {
                button.addEventListener('click', function (event) {
                    event.preventDefault();
                    const row = this.closest('.report-row');
                    
                    const caseId = row.cells[0].textContent;
                    const subject = row.cells[1].textContent;
                    const date = row.cells[2].textContent;
                    const statusHtml = row.cells[3].innerHTML;
                    const description = row.dataset.description;
                    const adminNotes = row.dataset.adminNotes;

                    Swal.fire({
                        title: `<strong>Details for Case ${caseId}</strong>`,
                        html: `
                            <div class="text-start">
                                <p><strong>Subject:</strong> ${subject}</p>
                                <p><strong>Date Reported:</strong> ${date}</p>
                                <p><strong>Status:</strong> ${statusHtml}</p>
                                <hr>
                                <p class="mb-1"><strong>Your Description:</strong></p>
                                <p class="text-muted">${description}</p>
                                <hr>
                                <p class="mb-1"><strong>Admin Notes:</strong></p>
                                <p class="text-muted">${adminNotes || 'No notes from admin yet.'}</p>
                            </div>
                        `,
                        icon: 'info',
                        confirmButtonText: 'Close',
                        confirmButtonColor: '#4a4de6'
                    });
                });
            });
        });
    </script>
</body>
</html>